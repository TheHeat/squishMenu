{"version":3,"sources":["webpack://squishMenu/webpack/universalModuleDefinition","webpack://squishMenu/webpack/bootstrap","webpack://squishMenu/./src/getItemsWidth.js","webpack://squishMenu/./src/squishMenu.js"],"names":["getItemsWidth","container","itemClass","callback","sum","items","querySelectorAll","length","forEach","item","offsetWidth","console","warn","squishMenu","options","document","getElementById","containerId","undefined","itemsWidth","classList","add","setClasses","containerWidth","debug","log","threshold","remove","window","addEventListener","toggles","getElementsByClassName","toggleClass","toggle"],"mappings":"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","file":"squishMenu.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"squishMenu\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"squishMenu\"] = factory();\n\telse\n\t\troot[\"squishMenu\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/squishMenu.js\");\n","// Add up the widths of all the itemClass elements inside the container\n// We only do it once in the default state\n// because they're apt to change width when the container is .too-small\nconst getItemsWidth = ({ container, itemClass, callback }) => {\n\tlet sum = 0;\n\tconst items = container.querySelectorAll(`.${itemClass}`);\n\n\tif (items.length > 0) {\n\t\titems.forEach((item) => {\n\t\t\tsum += item.offsetWidth * 1.1;\n\t\t});\n\t} else {\n\t\tconsole.warn(\"No elements with itemClass found in the container\");\n\t}\n\n\tif (typeof callback === \"function\") callback();\n\treturn sum;\n};\n\nexport default getItemsWidth;\n","import getItemsWidth from \"./getItemsWidth\";\n\n// squishMenu\nconst squishMenu = (options) => {\n\tconst itemClass = options.itemClass ? options.itemClass : \"menu-item\";\n\tconst container = document.getElementById(options.containerId);\n\n\tif (container === undefined || container === null) {\n\t\tconsole.warn(\"containerId is undefined\");\n\t} else {\n\t\tconst itemsWidth = getItemsWidth({\n\t\t\tcontainer,\n\t\t\titemClass,\n\t\t\tcallback: () => {\n\t\t\t\t// After we've calculated the width of all the menu items + 10%\n\t\t\t\t// add class .squish-ready to the container\n\t\t\t\tcontainer.classList.add(\"squish-ready\");\n\t\t\t},\n\t\t});\n\n\t\t// Set appropriate classes\n\t\tconst setClasses = () => {\n\t\t\tconst containerWidth = container.offsetWidth;\n\n\t\t\tif (options.debug === true) {\n\t\t\t\tconsole.log({ container, itemsWidth, containerWidth });\n\t\t\t}\n\n\t\t\tif (options.threshold && containerWidth <= options.threshold) {\n\t\t\t\tcontainer.classList.add(\"below-threshold\");\n\t\t\t\tcontainer.classList.add(\"too-small\");\n\t\t\t} else if (itemsWidth <= containerWidth) {\n\t\t\t\tcontainer.classList.remove(\"below-threshold\");\n\t\t\t\tcontainer.classList.remove(\"too-small\");\n\t\t\t\tcontainer.classList.remove(\"is-open\");\n\t\t\t} else if (itemsWidth > containerWidth) {\n\t\t\t\tcontainer.classList.remove([\"below-threshold\"]);\n\t\t\t\tcontainer.classList.add(\"too-small\");\n\t\t\t}\n\t\t};\n\n\t\tsetClasses();\n\n\t\twindow.addEventListener(\"resize\", setClasses);\n\n\t\tconst toggles = document.getElementsByClassName(options.toggleClass);\n\n\t\tif (toggles.length > 0) {\n\t\t\t// Click the .menu-toggle to open the menu. Obvs.\n\t\t\tdocument.querySelectorAll(`.${options.toggleClass}`).forEach((item) =>\n\t\t\t\titem.addEventListener(\"click\", () => {\n\t\t\t\t\tcontainer.classList.toggle(\"is-open\");\n\t\t\t\t})\n\t\t\t);\n\t\t} else {\n\t\t\tconsole.warn(\"No toggleClass found or toggleClass is undefined\");\n\t\t}\n\t}\n};\n\nexport default squishMenu;\n"],"sourceRoot":""}